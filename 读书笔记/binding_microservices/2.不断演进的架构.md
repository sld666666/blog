# 不断演进的架构

当不同人或者不同团队共同开发同一个系统的，他的实现会千变万化。

我们称自己为“架构师”或者“工程师”，但是我们正的是吗? “架构师”和“工程师”都有一整套严格的规范和纪律。在英国，最少需要7年时间的学习才能成为建筑师，而且这些知识都是经过了上千年的沉淀了。那么我们IT界呢？ 我们的历史太短，导致了我们对“好看”理解的太少了。

## 架构师的演化视角

架构师更像是一个城市规划师， 在规划一个城市的时候你得分好区块， 哪些区块是工业区，哪些是居民区。 但是城市是在不断演化的，我们的居民不会按照我们原来的想法来发生变化。 未来的变化很难预测，所以我们要有一个允许变化的计划。

所以架构师的职责是要专注大方向上，只有很有限的情况下参与到非常具体的细节实现中。不但要满足当前的需求， 而且能应付将来的需求。


## 分区
城市规划师中的分区可以认为是我们服务的边界。 作为架构师我们不必太过于关注分区内部的细节，但是要特别注意两个分区直接的交互。 分区内有一定的自治权，但是分区的关联一定要有统一的规范。

## 一个原子性的方法

战略目标----》 架构原则----》设计和实现

战略目标是一开始要定义好的。
原则是为围绕战略目标定义的，而且应该不容易变化
设计和实现随着时间的推移会慢慢演变

如

1. 战略目标：支持进入新兴的市场
2. 架构原则： 一致的接口和数据流（消除重复数据，创建清晰的记录系统和一致的集成接口）
3. 设计： 标准rest接口，小规模独立服务，持续部署....

##要求的标准

1. 监控
2. 接口：  一种接口标准很好， 两种也不错。
3. 架构安全性： 如何对各种下游错误做出来。

##代码治理

1. 范例： 通常情况下文档是有用的，但是我们更喜欢具体的例子
2. 代码模板： 通常情况下写一个服务他的核心代码应该是现成的。

##列外管理
原则和实践可以知道我们如何构建系统。 但是总会有列外。 我们需要做的就是把列为记录下来。如果出现多次就需要看是否需要修改原则了。

##集中治理和领导
架构师的职责是治理。建立一个技术愿景，确保我们构建的系统符合这个愿景。

架构师的职责：

1. 确保有一组可以知道开发的原则，并且这些原则和组织的战略相符合
2. 这些原则衍生出来的实践不会给开发人员带来痛苦
3. 了解新技术，知道怎么取舍
4. 让同事理解这些决定和取舍，并执行下去
5. 和团队一起编码，了解所做的决定对团队照成的影响
