# 分层
分层是软件系统设计中最常见的一种方式。 如在4层网络模型的设计，以太网络->ip -> tcp-> ftp。

这样的设计带来了几个方面的好处：

1. 顶层只要关心和他打交道的那一层的代码即可
2. 可以很方面替换底层。如一个ftp客户端可用ssh代替tcp
3. 减少不同层次的依赖。 如 如果ip层改变了，ftp层不用关心
4. 促使形成标准化。 如 ip, tcp协议的产生

当然分层的设计也会带来缺点：

1. 分层很好的封装的变化，但是不是全部。这样会带来一个问题是如果某一个功能变动，可能需要在好几个不同层次的代码中修改。 如： 要添加某个字段， 需要在数据库层改， 也需要在ui层改动
2. 性能问题。 因为带来了额外的系统调用开销

但是在分层的架构中，最大的问题是决定有什么样的层次结构，已经什么样的功能在什么哪一层中。


## 企业应用中层次结构的演变

1. 最原始的时候是没有层次结构的
2. 90年代中期， client-server系统出现。这时候又两层结构： 客户端负责用户界面，服务器负责数据库相关功能。这种架构带来明显的功能是很多业务，逻辑，验证都是写在客户端的，并且嵌在ui相关代码部分
3. 所以有了三层模型： ui, 逻辑控制，数据源

## 三层模型
基于以上， 我们把三层模型细分如下：

1. 用户界面层：HTML或者UI
2. 数据源层：如数据库
3. 业务逻辑层

## 五层模型
1. 用户界面
2. controller
3. Domain
4. data Mapping
5. data source
